# User Stories

**Проект:** MPSTATS Academy MVP  
**Версия:** 1.0  
**Дата:** 2025-12-18

---

## Формат User Story

```
Как [роль],
Я хочу [действие],
Чтобы [ценность/результат].

Acceptance Criteria:
- [ ] Критерий 1
- [ ] Критерий 2
```

---

## Epic 1: Онбординг и авторизация

### US-1.1: Регистрация нового пользователя

**Приоритет:** P0  
**Story Points:** 5

```
Как новый посетитель,
Я хочу зарегистрироваться на платформе,
Чтобы получить доступ к диагностике и обучению.
```

**Acceptance Criteria:**
- [ ] Форма содержит поля: Email, Пароль, Подтверждение пароля
- [ ] Пароль минимум 8 символов, содержит букву и цифру
- [ ] При несовпадении паролей показывается ошибка
- [ ] При существующем email показывается ошибка "Email уже зарегистрирован"
- [ ] После успешной регистрации отправляется email подтверждения
- [ ] Пользователь перенаправляется на страницу "Проверьте почту"
- [ ] После подтверждения email пользователь может войти

**Мокап/Wireframe:** `figma://auth/registration`

---

### US-1.2: Вход через email/password

**Приоритет:** P0  
**Story Points:** 3

```
Как зарегистрированный пользователь,
Я хочу войти в систему,
Чтобы продолжить обучение.
```

**Acceptance Criteria:**
- [ ] Форма содержит поля: Email, Пароль
- [ ] Кнопка "Войти" активна при заполненных полях
- [ ] При неверных данных показывается ошибка "Неверный email или пароль"
- [ ] При неподтверждённом email: "Подтвердите email для входа" + ссылка на повторную отправку
- [ ] После успешного входа редирект на Dashboard или Diagnostic (если не пройдена)
- [ ] Checkbox "Запомнить меня" продлевает сессию до 30 дней

---

### US-1.3: Вход через Google OAuth

**Приоритет:** P1  
**Story Points:** 3

```
Как посетитель,
Я хочу войти через Google,
Чтобы не создавать новый пароль.
```

**Acceptance Criteria:**
- [ ] Кнопка "Войти через Google" на странице логина
- [ ] Редирект на Google OAuth
- [ ] При первом входе создаётся аккаунт
- [ ] При повторном входе авторизуется существующий аккаунт (по email)
- [ ] После успешного входа редирект на Dashboard

---

### US-1.4: Восстановление пароля

**Приоритет:** P1  
**Story Points:** 3

```
Как пользователь, забывший пароль,
Я хочу восстановить доступ,
Чтобы продолжить обучение.
```

**Acceptance Criteria:**
- [ ] Ссылка "Забыли пароль?" на странице входа
- [ ] Форма запроса с полем Email
- [ ] При вводе незарегистрированного email: "Если email существует, мы отправили письмо"
- [ ] Email содержит ссылку на сброс (действительна 1 час)
- [ ] Страница сброса: Новый пароль + Подтверждение
- [ ] После успешного сброса редирект на страницу входа

---

### US-1.5: Защита приватных страниц

**Приоритет:** P0  
**Story Points:** 2

```
Как система,
Я хочу защитить приватные страницы,
Чтобы только авторизованные пользователи имели доступ.
```

**Acceptance Criteria:**
- [ ] Страницы /dashboard, /diagnostic, /learn/* требуют авторизации
- [ ] При доступе без авторизации — редирект на /login
- [ ] После успешного входа — редирект на запрошенную страницу
- [ ] Landing page (/) доступна всем

---

## Epic 2: Диагностика навыков

### US-2.1: Начало диагностики

**Приоритет:** P0  
**Story Points:** 3

```
Как авторизованный пользователь без диагностики,
Я хочу начать оценку своих навыков,
Чтобы получить персональный план обучения.
```

**Acceptance Criteria:**
- [ ] При первом входе показывается экран "Начать диагностику"
- [ ] Объяснение: что это, сколько займёт времени (≈10 мин)
- [ ] Список категорий навыков, которые будут оцениваться
- [ ] Кнопка "Начать" запускает сессию диагностики
- [ ] Создаётся запись DiagnosticSession в БД

---

### US-2.2: Прохождение вопросов диагностики

**Приоритет:** P0  
**Story Points:** 8

```
Как пользователь, проходящий диагностику,
Я хочу отвечать на вопросы по моим навыкам,
Чтобы система определила мой уровень.
```

**Acceptance Criteria:**
- [ ] Вопросы генерируются на основе Skill Graph
- [ ] Формат: Multiple Choice (4 варианта) или True/False
- [ ] Один вопрос на экране
- [ ] Прогресс-бар показывает X из N вопросов
- [ ] После ответа — переход к следующему вопросу
- [ ] Нельзя вернуться к предыдущему вопросу
- [ ] Время на вопрос не ограничено
- [ ] Минимум 15, максимум 30 вопросов (адаптивно)

---

### US-2.3: Адаптивная сложность вопросов

**Приоритет:** P1  
**Story Points:** 5

```
Как система,
Я хочу адаптировать сложность вопросов,
Чтобы быстрее и точнее определить уровень пользователя.
```

**Acceptance Criteria:**
- [ ] Вопросы имеют уровень сложности: Easy, Medium, Hard
- [ ] Начальный уровень: Medium
- [ ] При 2 правильных подряд — повышение сложности
- [ ] При 2 неправильных подряд — понижение сложности
- [ ] Система покрывает все 5 категорий навыков
- [ ] Минимум 2 вопроса на категорию

---

### US-2.4: Сохранение прогресса диагностики

**Приоритет:** P1  
**Story Points:** 3

```
Как пользователь, прервавший диагностику,
Я хочу продолжить с места остановки,
Чтобы не проходить сначала.
```

**Acceptance Criteria:**
- [ ] При закрытии страницы состояние сохраняется
- [ ] При возврате — экран "Продолжить диагностику?"
- [ ] Кнопки: "Продолжить" / "Начать заново"
- [ ] "Продолжить" восстанавливает прогресс
- [ ] "Начать заново" удаляет текущую сессию

---

### US-2.5: Результаты диагностики

**Приоритет:** P0  
**Story Points:** 5

```
Как пользователь, завершивший диагностику,
Я хочу увидеть результаты оценки,
Чтобы понять свои сильные и слабые стороны.
```

**Acceptance Criteria:**
- [ ] Radar Chart с 5 осями (Аналитика, Маркетинг, Контент, Операции, Финансы)
- [ ] Каждая ось: шкала 0-100
- [ ] Текстовое резюме: "Ваши сильные стороны: X, Y"
- [ ] Список Gap'ов: "Рекомендуем подтянуть: Z"
- [ ] Рекомендации привязаны к конкретным урокам
- [ ] CTA "Начать обучение по персональному плану"

---

### US-2.6: Повторная диагностика

**Приоритет:** P2  
**Story Points:** 2

```
Как пользователь с пройденной диагностикой,
Я хочу пройти её повторно,
Чтобы увидеть прогресс.
```

**Acceptance Criteria:**
- [ ] Кнопка "Пройти диагностику заново" в ЛК
- [ ] Предупреждение: "Это обновит ваш профиль навыков"
- [ ] Новая сессия не удаляет историю старых
- [ ] В ЛК видна история всех диагностик

---

## Epic 3: Адаптивное обучение

### US-3.1: Персональный трек обучения

**Приоритет:** P0  
**Story Points:** 5

```
Как пользователь с пройденной диагностикой,
Я хочу видеть персональный план обучения,
Чтобы изучать только то, что мне нужно.
```

**Acceptance Criteria:**
- [ ] Трек генерируется на основе Gap Analysis
- [ ] Уроки по освоенным навыкам скрыты (или помечены "Вы это знаете")
- [ ] Порядок уроков учитывает зависимости навыков
- [ ] Показывается примерное время прохождения трека
- [ ] Можно раскрыть скрытые уроки ("Показать всё")

---

### US-3.2: Просмотр списка уроков

**Приоритет:** P0  
**Story Points:** 3

```
Как студент,
Я хочу видеть список доступных уроков,
Чтобы выбрать, что изучать.
```

**Acceptance Criteria:**
- [ ] Карточка урока: Название, Категория, Длительность, Статус
- [ ] Статусы: "Рекомендован", "Пройден", "Знаете" (скрытый)
- [ ] Фильтр по категориям навыков
- [ ] Сортировка: по рекомендации / по курсу
- [ ] Поиск по названию урока

---

### US-3.3: Просмотр урока

**Приоритет:** P0  
**Story Points:** 5

```
Как студент,
Я хочу посмотреть видео урока,
Чтобы изучить материал.
```

**Acceptance Criteria:**
- [ ] Встроенный видеоплеер (embed с хостинга)
- [ ] Название урока, категория, описание
- [ ] Таймкоды ключевых моментов (если есть)
- [ ] Кнопка "Отметить как пройденный"
- [ ] Автоматическая отметка при 90% просмотра
- [ ] Плеер поддерживает скорость воспроизведения

---

### US-3.4: AI-резюме урока

**Приоритет:** P1  
**Story Points:** 5

```
Как студент,
Я хочу получить текстовое резюме урока,
Чтобы быстро вспомнить ключевые тезисы.
```

**Acceptance Criteria:**
- [ ] Кнопка "Показать резюме" под видео
- [ ] Резюме генерируется из транскрипта урока
- [ ] 5-7 ключевых тезисов
- [ ] Загрузка с индикатором (streaming)
- [ ] Кэширование: повторный запрос берёт из кэша

---

### US-3.5: AI-чат по уроку

**Приоритет:** P1  
**Story Points:** 8

```
Как студент,
Я хочу задать вопрос по материалу урока,
Чтобы уточнить непонятные моменты.
```

**Acceptance Criteria:**
- [ ] Чат-интерфейс рядом с видео
- [ ] Контекст ограничен текущим уроком
- [ ] Ответы содержат ссылки на таймкоды видео
- [ ] История чата сохраняется в рамках урока
- [ ] Rate limit: 20 сообщений в час
- [ ] При ошибке LLM: "Не удалось получить ответ. Попробуйте позже"

---

### US-3.6: Мини-тест после урока

**Приоритет:** P1  
**Story Points:** 5

```
Как студент, завершивший урок,
Я хочу проверить понимание материала,
Чтобы убедиться в усвоении.
```

**Acceptance Criteria:**
- [ ] После нажатия "Пройден" — предложение пройти тест
- [ ] 2-3 вопроса по материалу урока
- [ ] Результат: "Отлично! Материал усвоен" или "Рекомендуем пересмотреть"
- [ ] При неуспешном тесте — ссылки на таймкоды для повторения
- [ ] Тест можно пропустить

---

### US-3.7: Рекомендация следующего урока

**Приоритет:** P0  
**Story Points:** 3

```
Как студент, завершивший урок,
Я хочу получить рекомендацию следующего урока,
Чтобы не терять мотивацию.
```

**Acceptance Criteria:**
- [ ] Экран "Урок пройден" с рекомендацией
- [ ] "Следующий рекомендованный урок: X"
- [ ] Кнопка "Перейти" / "Выбрать другой"
- [ ] Если трек завершён: "Поздравляем! Трек пройден"

---

## Epic 4: Личный кабинет

### US-4.1: Dashboard с прогрессом

**Приоритет:** P0  
**Story Points:** 5

```
Как студент,
Я хочу видеть свой прогресс обучения,
Чтобы понимать, сколько пройдено.
```

**Acceptance Criteria:**
- [ ] Общий прогресс: X% трека пройдено
- [ ] Количество пройденных уроков / всего
- [ ] Время обучения за последнюю неделю
- [ ] Текущий уровень навыков (Radar Chart)
- [ ] Последние активности (недавние уроки)

---

### US-4.2: История диагностик

**Приоритет:** P1  
**Story Points:** 3

```
Как студент,
Я хочу видеть историю своих диагностик,
Чтобы отслеживать рост навыков.
```

**Acceptance Criteria:**
- [ ] Список пройденных диагностик с датами
- [ ] При клике — детальный результат
- [ ] Сравнение: текущий vs предыдущий (overlay Radar Charts)

---

### US-4.3: Настройки профиля

**Приоритет:** P1  
**Story Points:** 3

```
Как пользователь,
Я хочу редактировать свой профиль,
Чтобы актуализировать данные.
```

**Acceptance Criteria:**
- [ ] Редактирование имени
- [ ] Email только для чтения (для MVP)
- [ ] Загрузка аватара
- [ ] Кнопка "Сохранить"

---

### US-4.4: Смена пароля

**Приоритет:** P1  
**Story Points:** 2

```
Как пользователь,
Я хочу сменить пароль,
Чтобы обеспечить безопасность.
```

**Acceptance Criteria:**
- [ ] Форма: Текущий пароль, Новый пароль, Подтверждение
- [ ] Валидация текущего пароля
- [ ] Требования к новому паролю (8+ символов)
- [ ] Успех: "Пароль изменён"

---

### US-4.5: Выход из системы

**Приоритет:** P0  
**Story Points:** 1

```
Как авторизованный пользователь,
Я хочу выйти из системы,
Чтобы завершить сессию.
```

**Acceptance Criteria:**
- [ ] Кнопка "Выйти" в меню профиля
- [ ] Подтверждение: "Вы уверены?"
- [ ] После выхода — редирект на главную
- [ ] Сессия инвалидирована

---

## Epic 5: Главная страница

### US-5.1: Landing page

**Приоритет:** P0  
**Story Points:** 5

```
Как посетитель,
Я хочу понять ценность платформы,
Чтобы принять решение о регистрации.
```

**Acceptance Criteria:**
- [ ] Hero: Заголовок + подзаголовок + CTA
- [ ] Секция "Как это работает" (3 шага)
- [ ] Секция "Какие курсы включены"
- [ ] Social proof (если есть)
- [ ] CTA "Начать бесплатную диагностику" → /register
- [ ] Адаптив для mobile

---

## Матрица приоритетов

| User Story | Приоритет | Sprint |
|------------|-----------|--------|
| US-1.1, US-1.2, US-1.5 | P0 | 1 |
| US-2.1, US-2.2, US-2.5 | P0 | 2 |
| US-3.1, US-3.2, US-3.3, US-3.7 | P0 | 3 |
| US-4.1, US-4.5 | P0 | 4 |
| US-5.1 | P0 | 1 |
| US-1.3, US-1.4 | P1 | 2 |
| US-2.3, US-2.4 | P1 | 2 |
| US-3.4, US-3.5, US-3.6 | P1 | 3-4 |
| US-4.2, US-4.3, US-4.4 | P1 | 4 |
| US-2.6 | P2 | Backlog |

---

**Следующий документ:** Technical Specification
