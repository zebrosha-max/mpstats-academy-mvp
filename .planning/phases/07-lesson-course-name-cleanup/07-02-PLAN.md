---
phase: 07-lesson-course-name-cleanup
plan: 02
type: execute
wave: 2
depends_on: [07-01]
files_modified: []
autonomous: false
requirements: [NAMING-05]

must_haves:
  truths:
    - "Production site academyal.duckdns.org shows clean lesson titles without .mp4 extensions"
    - "Production site shows Russian course names instead of technical IDs"
    - "Production site shows clean module descriptions without 'Modul: Modul N_' prefix"
    - "Production site shows visual lesson numbering in course list"
  artifacts: []
  key_links:
    - from: "VPS Docker container"
      to: "Supabase cloud DB"
      via: "DATABASE_URL env var"
      pattern: "supabase"
---

<objective>
Redeploy MAAL container on VPS to pick up UI numbering changes, then visually verify all naming cleanup is correct in production.

Purpose: DB changes from Plan 01 are already live (Supabase cloud is shared between dev and prod). But the UI numbering change in learn/page.tsx requires a container rebuild. Visual verification confirms everything looks correct to end users.
Output: Production verified with clean names.
</objective>

<execution_context>
@C:/Users/Zebrosha/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Zebrosha/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-lesson-course-name-cleanup/07-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redeploy container on VPS</name>
  <files></files>
  <action>
The DB cleanup from Plan 01 is already live (Supabase cloud is the same DB for dev and prod). However, the UI visual numbering change in `learn/page.tsx` requires rebuilding the Docker container.

Steps:
1. Commit and push Plan 01 changes to master
2. SSH to VPS (deploy@89.208.106.208) and redeploy:
   ```
   cd /home/deploy/maal
   git pull origin master
   docker compose down && docker compose build --no-cache && docker compose up -d
   ```
3. Wait for container to be healthy: `docker compose ps` — status should show "healthy"
4. Verify health endpoint: `curl -s https://academyal.duckdns.org/api/health | head -20`

If SSH is not available from this environment, provide the exact commands for user to execute manually.
  </action>
  <verify>Container is running and healthy. Health endpoint returns 200 with `"status":"ok"`.</verify>
  <done>Docker container rebuilt and running with latest code on VPS.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of clean names in production</name>
  <files></files>
  <action>
User visually verifies that all naming cleanup is correct on production site. This is a human-verify checkpoint — Claude cannot verify visual appearance of production pages.
  </action>
  <verify>
User checks the following on https://academyal.duckdns.org/learn:
1. Course titles are in Russian: "Аналитика для маркетплейсов", "Реклама и продвижение", etc. (not "01_analytics", "02_ads")
2. Course descriptions are in Russian (not "Analytics for Marketplaces")
3. Click "Показать все N уроков" on any course
4. Lesson titles are clean: NO .mp4 extensions, NO leading numbers like "1 " in title text (numbers come from visual prefix "1. Title")
5. Lesson descriptions are clean: NO "Модуль: Модуль N_" prefix, clean text like "Трафик: привлекаем клиентов SEO и рекламой"
6. Visual numbering present: lessons show "1. Название", "2. Название", etc.
7. Click on any lesson — detail page shows clean title
  </verify>
  <done>User confirms production site shows clean, professional course structure with no technical artifacts visible.</done>
</task>

</tasks>

<verification>
1. Production URL accessible: https://academyal.duckdns.org
2. /learn page loads with Russian course names
3. Lesson titles are clean (no .mp4, no numeric prefix)
4. Lesson descriptions are clean (no "Модуль: Модуль N_")
5. Visual numbering present in course lesson lists
</verification>

<success_criteria>
- User confirms production site shows clean, professional course structure
- No technical artifacts visible in any lesson title, description, or course name
- Visual numbering works correctly
</success_criteria>

<output>
After completion, create `.planning/phases/07-lesson-course-name-cleanup/07-02-SUMMARY.md`
</output>
