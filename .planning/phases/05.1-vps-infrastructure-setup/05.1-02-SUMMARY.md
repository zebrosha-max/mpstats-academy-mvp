---
phase: 05.1-vps-infrastructure-setup
plan: 02
subsystem: infra
tags: [duckdns, letsencrypt, certbot, ssl, nginx-https]

requires:
  - phase: 05.1-01
    provides: Nginx reverse proxy configured on VPS

provides:
  - HTTPS via Let's Encrypt SSL on academyal.duckdns.org
  - Nginx configured with SSL termination and HTTP->HTTPS redirect
  - Certbot auto-renewal configured

affects:
  - 06-deploy (production URL is now https://academyal.duckdns.org)

tech-stack:
  added: [Let's Encrypt, certbot, DuckDNS]
  patterns: [certbot --nginx auto-config, HTTP 301 redirect to HTTPS]

key-files:
  modified:
    - VPS /etc/nginx/sites-available/maal.conf (server_name + SSL)
    - VPS /etc/letsencrypt/live/academyal.duckdns.org/ (certificates)

key-decisions:
  - "DuckDNS + Let's Encrypt instead of Cloudflare Named Tunnel (user has no Cloudflare domain)"
  - "Domain academyal.duckdns.org chosen by user"
  - "certbot --nginx with auto HTTP->HTTPS redirect"
  - "Certificate expires 2026-05-25, auto-renewal configured"

patterns-established:
  - "Pattern: DuckDNS free domain + certbot for HTTPS on VPS without paid domain"

requirements-completed: [INFRA-04]

duration: ~15min
completed: 2026-02-24
---

# Phase 05.1 Plan 02: DuckDNS + Let's Encrypt SSL Summary

**academyal.duckdns.org configured with Let's Encrypt SSL, Nginx HTTPS termination, auto-renewal via certbot**

## Performance

- **Duration:** ~15 min
- **Completed:** 2026-02-24
- **Tasks:** 2 of 2 (Task 1 = SSL setup, Task 2 = verification)

## Accomplishments

- DuckDNS domain academyal.duckdns.org pointed to VPS 89.208.106.208
- Nginx maal.conf updated: server_name academyal.duckdns.org (was `_`)
- certbot installed and SSL certificate obtained from Let's Encrypt
- Certificate: /etc/letsencrypt/live/academyal.duckdns.org/fullchain.pem (expires 2026-05-25)
- HTTP->HTTPS redirect (301) configured automatically by certbot
- certbot auto-renewal dry-run passed
- HTTPS returns 502 (expected — MAAL container not deployed yet)
- All existing services (OpenClaw, Docker, fail2ban, Nginx) unaffected

## Deviations from Plan

**1. [Adapted] DuckDNS + Let's Encrypt instead of Cloudflare Named Tunnel**
- **Reason:** User has no domain in Cloudflare; DuckDNS is free and sufficient for MVP
- **Impact:** Simpler setup, no cloudflared daemon needed, standard certbot renewal

**2. [Blocker resolved] DNS initially pointed to wrong IP**
- **Found during:** DNS verification step
- **Issue:** academyal.duckdns.org resolved to 170.168.118.83 (user's home IP) instead of VPS
- **Fix:** User updated DuckDNS dashboard to point to 89.208.106.208
- **Resolution time:** ~2 min (user action)

## Files Modified (VPS only)

- `/etc/nginx/sites-available/maal.conf` — server_name + SSL config by certbot
- `/etc/letsencrypt/live/academyal.duckdns.org/` — SSL certificates

## Next Phase Readiness

- Phase 05.1 COMPLETE — VPS infrastructure fully ready for MAAL deploy
- Phase 6 can proceed: docker build + deploy to https://academyal.duckdns.org
- Production URL: https://academyal.duckdns.org

---
*Phase: 05.1-vps-infrastructure-setup*
*Completed: 2026-02-24*
